2009-07-29  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/oval_plugins.c (oval_plugin_add): Setting a
	dependency and mandatory key for any OVAL file.
	This prevent OpenVAS to try to run OVAL files
	if no adequate ovaldi is present.

2009-07-28  Jan Wagner <waja@cyconet.org>

	* packaging/debian/changelog, packaging/debian/control,
	packaging/debian/openvas-server.init,
	packaging/debian/patches,
	packaging/debian/patches/12_openvas_nvt-sync-var.dpatch,
	packaging/debian/patches/10_bashism.dpatch,
	packaging/debian/patches/00list,
	packaging/debian/patches/11_openvas-nvt-sync.dpatch,
	packaging/debian/rules, packaging/debian/openvas-server.postinst,
	packaging/debian/openvasd.conf, packaging/debian/copyright,
	packaging/debian/po/es.po, packaging/debian/po/it.po,
	packaging/debian/po/ja.po:

	- New upstream release
	- Bump Standards-Version to 3.8.2, no changes needed
	- removing absolute path calling rm in postinst, lintian fix.
	- add checkbashisms check for /usr/*bin/openvas-* and add devscripts as
	  build-dep
	- add it.po, thanks to Vincenzo Campanella (Closes: #513361)
	- updates ja.po, thanks to Hideki Yamane (Closes: #538253)
	- add dpatch infrastructure
	- add 10_bashism.dpatch to get rid of bashism in upstream shell scripts,
	  thanks to Raphael Geissert (Closes: #530156)
	- relicense packaging to GPL-3
	- Minor changes to the Spanish translation, it was missing the
	  review done in the debian-l10n-spanish mailing list by
	  Noel David Torres.
	- Small fix in the error message in the init.d script when complaining that
	  there is no ca_file defined.
	- New patch (11_openvas-nvt-sync.dpatch) to include upstream's openvas-nvt-sync
	  that was previously in openvas-plugins package. This enables admins to update
	  their OpenVAS plugins without the need for a separate plugin which, anyway,
	  upstream is not going to provide see Change Request #32
	  (http://www.openvas.org/openvas-cr-32.html, "Discontinuing the tarball
	  releases of openvas-plugins") (Closes: #534846, #532937)
	- Add 12_openvas_nvt-sync-var.dpatch to get the plugins into /var
	- Add the following packages to Recommends: as they are needed by some NASL script:
	  # nmap - so the server can do portscans
	  # smbclient - to retrieve information from "other" environments
	- Add the following packages to Suggests: as they are needed by some NASL script:
	  # snmp - snmpwalk is used in the snmpwalk_portscan.nasl NASL script
	  # pnscan - used by the pnscan.nasl NASL script
	  # strobe - used by the portscan-strobe.nasl NASL script
	  # ike-scan - used by the ike-scan.nasl NASL script
	- add debian/watch to detect when a new version is available at wald.intevation.org
	- Updated Spanish translation
	- Add Japanese translation, it is, however, out of date since the templates
	  have changed (Closes: 520063)

2009-07-20  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/plugs_req.c (mandatory_requirements_met): Switched
	return code meaning. Now returns correctly.

	* openvasd/pluginscheduler.c (plugins_scheduler_init): Added
	handling for mandatory keys.

2009-07-19  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	Add handling for mandatory_keys. This is part of
	implementing Change Request #39,
	http://www.openvas.org/openvas-cr-39.html.

	* openvasd/pluginscheduler.h (struct scheduler_plugin): Added
	element for mandatory_keys.

	* openvasd/plugs_req.c (mandatory_requirements_met): New.
	Checks whether mandatory requirments (so far only KB keys).

	* openvasd/plugs_req.h: Added proto for mandatory_requirements_met.

	* openvasd/attack.c (launch_plugin): Take care the plugin
	in only launched if mandatory requirements are met. This
	esentially means regardless of flag optmize flag set.

2009-07-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	First part of fixing bug #779.
	Result of collaborative effort of Chandra, Thomas Reinke, Jan-Oliver
	Wagner, Michael Wiegand, Felix Wolfsteller.
	
	* openvasd/utils.c (common):
	Fixed. In a list comparison, after the first pass no further
	comparisons were done. Keeping pointer to start of list.

2009-06-29  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* Makefile: Activate installation of C-NVTs.

2009-06-29  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* cnvts/openvas_tcp_scanner/openvas_tcp_scanner.c (banner_grab,
	read_sysctl_maxsysfd): Resolved unused variables.
	(compute_min_max_cnx, read_sysctl_maxsysfd): Consider only if needed.
	(banner_grab): Resolving ambigious 'else'. Resolve 'parentheses around &&
	within ||'. Resolve missing initialization.

2009-06-29  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* cnvts/find_service/find_service.c(plugin_do_run): Resolved ambigious 'else'
	and signedness warning.

2009-06-29  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* cnvts/synscan/synscan.c (extracttcp, extractsport, issynack, find_rtt,
	sendpacket, scan, plugin_run): Removed unused variable(s).

2009-06-29  Michael Wiegand <michael.wiegand@intevation.de>

	Re-enabled compilation of legacy C-based plugins. Done in accordance
	with CR #32: "Discontinuing the tarball releases of openvas-plugins"
	(http://www.openvas.org/openvas-cr-32.html). This included adding
	libtool support to openvas-server.

	* configure.in: Make configure libtool-aware.

	* configure: Regenerated.

	* ltmain.sh: Added libtool support script.

	* Makefile: Enabled compilation of CNVTs.

	* aclocal.m4: Regenerated to add libtool support.

	* openvas.tmpl.in: Define libtool location to expose it to the CNVT
	Makefiles.

	* cnvts/3com_hub/Makefile: Fixed to integrate into openvas-server build
	environment in order to re-enable compilation.

	* cnvts/find_service/Makefile: Fixed to integrate into openvas-server
	build environment in order to re-enable compilation.

	* cnvts/openvas_tcp_scanner/Makefile: Fixed to integrate into
	openvas-server build environment in order to re-enable compilation.

	* cnvts/ssl_ciphers/Makefile: Fixed to integrate into openvas-server
	build environment in order to re-enable compilation.

	* cnvts/synscan/Makefile: Fixed to integrate into openvas-server build
	environment in order to re-enable compilation.

2009-06-29  Michael Wiegand <michael.wiegand@intevation.de>

	* cnvts/synscan/synscan.c (plugin_init): Adapted calls of plug_set_*
	functions to API change.

2009-06-29  Michael Wiegand <michael.wiegand@intevation.de>

	* cnvts/openvas_tcp_scanner/openvas_tcp_scanner.c (plugin_init):
	Adapted calls of plug_set_* functions to API change.

2009-06-29  Michael Wiegand <michael.wiegand@intevation.de>

	* cnvts/find_service/find_service.c: Removed obsolete French defines.
	(plugin_init): Adapted calls of plug_set_* functions to API change.

2009-06-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* configure.in: Removed handling of language setting.

	* configure: updated.

2009-06-27  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/oval_plugin.c (oval_plugin_add): Adapated
	calls of plug_set_* functions to API change. 

2009-06-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/openvasd.c (init_openvasd): Don't use the
	deprecated method store_init_sys.

2009-06-26  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/preferences.c (preferences_new): Removed creation
	of parameter "language".

	* openvasd/nasl_plugins.c (nasl_plugin_add): Removed
	handling of language.

	* include/config.h.in, configure.in: Removed handling
	of OPENVASD_LANGUAGE.

2009-06-23  Jan-Oliver Wagner <jan-oliver.wagner@greenbone.net>

	* openvasd/comm.c (send_plug_info): Fixed a bug regarding missing
	desc. Removed unnecessary NULL setting.

2009-06-23  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: Making sure the copyright and summary is
	correctly set for OVAL plugins.
	(start_element, text, end_element): Add support for parsing "rights"
	element.
	(oval_plugin_add): Set copyright and summary when adding OVAL plugins
	to the cache.

2009-06-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/comm.c (send_plug_info): Fixed a bug regarding setting
	a placeholder name. Also improved error reporting to inform
	about as many problems as possible already during the first run.

2009-06-23  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (ovaldi_launch): Make sure collected_objects
	element is only created if objects have been collected.

2009-06-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/comm.c (send_plug_info): More verbose error
	reports about inconsistent data to allow easier debugging.

2009-06-19  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Add targets for handling the cnvts
	and hook  them in except for all- and install-target
	- since the c-nvts do not build yet.

2009-06-19  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Move the remaining C-NVTs from openvas-plugins
	module here.
	This is part of Change Request #32
	(http://www.openvas.org/openvas-cr-32.html,
	"Discontinuing the tarball releases of openvas-plugins")

	* cnvts/3com_hub/3com_hub.c, cnvts/3com_hub/Makefile,
	cnvts/find_service/find_service.c, cnvts/find_service/Makefile,
	cnvts/install_plug, cnvts/make_world,
	cnvts/openvas_tcp_scanner/Makefile,
	cnvts/openvas_tcp_scanner/openvas_tcp_scanner.c,
	cnvts/ssl_ciphers/Makefile, cnvts/ssl_ciphers/ssl_ciphers.c,
	cnvts/synscan/Makefile, cnvts/synscan/synscan.c:
	New. Copied over from openvas-plugins/plugins/

	* MANIFEST: Updated

2009-06-10  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Move the sync-script for the OpenVAS NVT Feed from
	openvas-plugins module here.
	This is part of Change Request #32
	(http://www.openvas.org/openvas-cr-32.html,
	"Discontinuing the tarball releases of openvas-plugins")

	* openvas-nvt-sync.in: New. Moved here from
	openvas-plugins module.

	* configure.in, Makefile: Added handling for openvas-nvt-sync.

	* configure: Updatd.

	* MANIFEST: Updated.

2009-06-03  Michael Wiegand <michael.wiegand@intevation.de>

	Post branch version bump.

	* VERSION: Set to 2.1.0.SVN.

	* doc/Doxyfile, doc/Doxyfile_full: Updated PROJECT_NUMBER.

2009-06-03  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.3.SVN.

	* doc/Doxyfile, doc/Doxyfile_full: Updated PROJECT_NUMBER.

2009-06-03  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the openvas-server 2.0.2 release.

	* VERSION: Set to 2.0.2.

	* doc/Doxyfile, doc/Doxyfile_full: Updated PROJECT_NUMBER.

	* CHANGES: Updated.

2009-05-18  Michael Wiegand <michael.wiegand@intevation.de>

	* packaging/debian/openvas-server.init (check_certs): Fixed error
	message when there is no ca_file setting in the openvasd.conf.

2009-05-11  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/plugs_hash.c (plugins_hash): Remove obsolete variable
	declaration for "uhome".

2009-05-11  Michael Wiegand <michael.wiegand@intevation.de>

	Implementing the first part of Change Request #31: Remove support for
	plaintext password storage (http://www.openvas.org/openvas-cr-31.html).

	* openvasd/users.c (check_user): openvasd will now display a warning
	message on both stderr and the logfile when it encounters a password
	stored in plaintext.

	* openvas-adduser.in: Adding users without a working md5 algorithm is no
	longer possible. Added an exit 1 in case no algorithm is found, removed
	now obsolete reference to plaintext storage when storing credentials.

	* doc/openvas-adduser.8: Updated, removed obsolete parts.

2009-05-05  Jan Wagner <waja@cyconet.org>

	* packaging/debian/changelog: reengineered Michaels changes :P

2009-04-27  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/plugs_hash.c (plugins_hash): Remove handling of obsolete
	"plugins" directory in the user_home directory.

2009-04-20  Michael Wiegand <michael.wiegand@intevation.de>

	* openvas-adduser.in: Stop openvas-adduser from creating the now
	obsolete "plugins" directory for new users.

2009-04-20  Michael Wiegand <michael.wiegand@intevation.de>

	* packaging/debian/openvas-server.dirs: Added var/cache/openvas to the
	list of directories to be created.

2009-04-20  Michael Wiegand <michael.wiegand@intevation.de>

	* packaging/debian/control, packaging/debian/compat: Adjusting debhelper
	dependency and compatibility level to be consistent with the other
	modules and to allow Debian Etch packages to be built.

2009-04-17  Michael Wiegand <michael.wiegand@intevation.de>

	Updated Debian packaging files.

	* packaging/debian/openvas-server.dirs: Added etc/openvas/gnupg to the
	list of directories to be created.

	* packaging/debian/control: Updated build dependencies. Added dependency
	to openssl since it is need by the Debian post-inst script.

	* packaging/debian/openvas-server.install: Added usr/bin/openvasd-config
	to the list of files of to be installed. It was formerly installed with
	openvas-server-dev but is needed by some third party tools.

	* packaging/debian/openvas-server-dev.install: Removed
	usr/bin/openvasd-config from the list of files to be installed (see
	above).

	* packaging/debian/openvas-server.default: Changed the default to make
	openvasd listen on external interfaces as well.

	* packaging/debian/openvasd.conf: Updated with new preferences for the
	2.0.x series and fixed wrong entry for dumpfile.

2009-04-09  Michael Wiegand <michael.wiegand@intevation.de>

	* MANIFEST: Added missing ChangeLog.

2009-04-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Reformatting and doc in comm module.

	* openvasd/comm.c: Reformatting, doc.

2009-04-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Renamed variables starting with 'g_', as it suggest GLib ownership.
	
	* openvasd/openvasd.c, openvasd/utils.c: Renamed variables starting
	with 'g_'.

2009-04-08  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Reformatting in pluginlaunch module.

	* openvasd/pluginlaunch.c: Reformatting.

2009-04-08  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/nasl_plugins.c (nasl_plugin_add): Added carriage return and
	newline to message to improve readability.

2009-04-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Print message to stderr when a nasl script could not be cached.
	This happens in cases where exit() is called prior to the description.
	As a consequence of that non-happening description parse, the nvt might
	not be visible to the client.

	* openvasd/nasl_plugins.c (nasl_plugin_add): Be loud when a script could
	not be added to the cache.

2009-04-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/nasl_plugins.c: Minor reformatting, doc.

2009-04-02  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Removed build-breaking debug code.

	* openvasd/openvasd.c: Removed build-breaking debug code.

2009-04-01  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Cosmetics, reformatting, doc in nasl_plugins module.

	* openvasd/nasl_plugins.c: Cosmetics, doc, reformatting.

2009-04-01  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Added todos and fixmes in openvasd module, reformatting, doc.

	* openvasd/openvasd.c: Cosmetics, doc, reformatting, todos and fixmes.

2009-03-20  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/pluginscheduler.c (hash_fill_deps): Improved searching for
	dependencies: If plugin some_path/x.nasl has a dependency on y.nasl
	which can not be found, hash_fill_deps will now make attempt to find the
	dependency in some_path/y.nasl.

2009-03-18  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (ovaldi_launch): Added initial support for
	FDCC checks in the form of support for creating user_items and sid_items
	based on data collected via WMI; note that this is just an early proof
	of concept and contains a number of hacks. oval_plugins.c now uses the
	GString functionality provided by glib to construct the
	collected_objects and system_data elements to account for relations
	between child elements of those elements. Furthermore, oval_plugins.c
	will now attempt to remove stale result files before running ovaldi to
	prevent the reporting of incorrect results when ovaldi failed to
	construct a result file.

2008-03-05  Vlatko Kosturjak <kost@linux.hr>

	* configure, configure.in: Removal of  PCAP_TIMEOUT_IGNORED which
	is not used any more in the source

2009-03-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Increased the required openvas-libraries version (2.0.2), for updated
	ssh_login datastructure.

	* configure.in: Increased required openvas-libraries version to 2.0.2.

2009-03-02  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: Code cleanup. Renamed child_setup to
	drop_privileges to make the function intention more clear. Removed
	superfluous result variable.

2009-03-02  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: Beautification commit, no code changes.
	Made indentation consistent with the coding style, added
	documentation.

2009-02-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Support for per-host password based local checks. Yet ignored because
	ssh_func.inc will always try the key-based method.
	
	NOTE: You need the latest version of openvas-libraries to compile and
	the latest Client + the ssh_authorization.nasl that was sent to
	openvas-devel to test.

	* openvasd/attack.c (fill_host_kb_ssh_credentials): Set password in kb
	if specified.

2009-02-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/save_kb.c (kb_dirname): use GLibs build_filename (code was
	already accidentially commited in last commit but not accessible) and
	return gchar instead of manual path construction and char*.

	* openvasd/save_kb.c (kb_fname): respect new return type of kb_dirname,
	free by g_free, corrected comment.

2009-02-25  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	More Reformatting and documentation for save_kb module, enabled
	doc generation for ENABLE_SAVE_KB guarded code parts.

	* openvasd/save_kb.c: Documentation and reformatting works.
	
	* doc/Doxyfile, doc/Doxyfile_full: Use a PREDEFINE for ENABLE_SAVE_KB
	to generate more documentation.
	
2009-02-25  Michael Wiegand <michael.wiegand@intevation.de>

	Added support for parsing multiple results per OVAL result file, made
	call to ovaldi compatible to ovaldi 5.5.x.

	* oval_plugins.c: (start_element, end_element) Added support for
	multiple results. (ovaldi_launch) Added support for communicating
	multiple results to client. Improved result string handling. Free
	memory we no longer need.

2009-02-24  Michael Wiegand <michael.wiegand@intevation.de>

	Added support for parsing multiple definitions per OVAL file, made XML
	parsing more robust. Please note that the usefulness of this change is
	limited at the moment, since support for multiple results and updated
	ovaldi support is not yet present in the code, but expected to arrive
	shortly.

	* oval_plugins.c: (start_element, text, end_element) Made XML parsing
	more stateful and robust. (text) Fix to remove superflous whitespaces
	in definition titles. (ovaldi_launch) Temporarily included dummy
	values in OVAL system_info element for testing.

2009-02-19  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Set default value for Silent Dependencies to 'No'. Naive users otherwise
	might miss some security issues due to suppression of messages coming
	from the server through NVTs that other NVTs just depend on.

	* openvasd/preferences.d: Set default value for silent_dependencies
	to 'no'.

2009-02-19  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/preferences.d: Documentation and minor formatting.
	Added a FIXME about possible conflict with a new scan overiding
	preference values of running scans.

2009-02-17  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/preferences.c (preferences_new): Fixed minor spelling errors
	in comments of newly created preferences files.

2009-02-17  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.2.SVN.

	* doc/Doxyfile, doc/Doxyfile_full: Set PROJECT_NUMBER to 2.0.2.SVN.

2009-02-17  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the openvas-server 2.0.1 release.

	* CHANGES: Updated.

	* README: Extended instructions for server setup.

	* ChangeLog: Tidied.

	* VERSION: Set to 2.0.1.

	* doc/Doxyfile, doc/Doxyfile_full: Set PROJECT_NUMBER to 2.0.1.

2009-02-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Minor documentation added / transformed into agreed format.
	K&R function declarations replaced.
	
	* openvasd/nasl_plugins.c, openvasd/utils.c, openvasd/utils.h,
	openvasd/shared_socket.c, openvasd/oval_plugins.c, openvasd/pluginload.h
	: Replaced some K&R function declarations, reformatted or added minor
	documentation blocks.
	
	* ChangeLog: Fixed misleading and wrong entry of last commit.

2009-02-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/preferences.c (preferences_plugin_timeout): Use 
	g_strdup_printf instead of malloc + printf.

2009-02-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/preferences.c: Partly reformatted and doc

	* openvasd/preferences.c (preferences_plugin_timeout): (fully)
	reformatted + doc.

2009-02-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/openvasd.c: In mainpage doc, corrected section name.

2009-02-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/openvasd.c: Added mainpage directive for code documentation.
	Included README and LICENSE files in the mainpage.

2009-02-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Replaced outdated INSTALL by slightly more verbose README.

	* INSTALL: Removed. Information was few and outdated. Superseded by
	README.
	
	* README: New. Contains installation and set-up instructions.
	
	* MANIFEST: Updated (-INSTALL +README).

2009-02-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Format and doc in openvasd module.

	* openvasd/openvasd.c: Transformed function headers, replaced static
	var from middle of file to beginning of file, transformed comments.

2009-02-13  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/pluginload.c (plugins_reload_from_dir): Don't try to split
	include_folders if there is no such preference. 

2009-02-13  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/pluginscheduler.c (hash_fill_deps): Improved
	warning message to avoid misinterpretation.

	* openvasd/shared_socket.c (shared_socket_process): Improved
	documentation.

	* openvasd/pluginlaunch.c (read_running_processes): Write a
	log entry in case of process_internal_msg fails.

	* Makefile: Renamed old target "doc" to "man" to avoid
	having two targets "doc".

2009-02-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/Doxyfile, doc/Doxyfile_full: New. Directives for
	creation of doxygen source code documentation.

	* Makefile: Added targets "doc" and "doc-full".

	* MANIFEST: Updated.

2009-02-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Repaired resolution of Default or pattern- defined logins per host,
	printf Debug- messages.
	
	* openvasd/attack.c (fill_host_kb_ssh_credentials): Check if login
	is registered under keys before resolution, debug messages.
	
	* openvasd/attack.c (pattern_matches): printf debug messages.

2009-02-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Resolved bug when per-target ssh login information was already added in
	an arglist, has to be set be become replaced.

	* openvasd/ntp_11.c (build_global_sshlogin_info_map,
	build_global_host_sshlogins_map): If value alread found in arglist
	replace it.

2009-02-10  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/pluginload.c (plugins_reload_from_dir): Add support for
	multiple, colon-separated include_folders in the preferences.

2009-02-10  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/control, packaging/debian/changelog,
	packaging/debian/openvas-server.templates, packaging/debian/po/gl.po,
	packaging/debian/po/cs.po, packaging/debian/po/pt_BR.po,
	packaging/debian/po/es.po, packaging/debian/po/fr.po,
	packaging/debian/po/eu.po, packaging/debian/po/nl.po,
	packaging/debian/po/sk.po, packaging/debian/po/vi.po,
	packaging/debian/po/templates.pot, packaging/debian/po/pt.po,
	packaging/debian/po/ru.po, packaging/debian/po/sv.po,
	packaging/debian/po/de.po: Updated following translation efforts
	by debian-l10n-english team as part of the Smith review project.

2009-02-09  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Documentation and reformatting of shared_socket module.
	
	* openvasd/shared_socket.c: Donated return types in function
	declarations an own line, removed whitespaces, minor documentation.
	
	* openvasd/shared_socket.c (openvasd_shared_socket_acquire):
	Reformatted.

2009-02-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/preferences.c (preferences_new): Added default for
	config parameter "include_folders". It is set
	to the plugins_folder to be compatible by default
	with older version of openvasd.

	* openvasd/pluginload.c: Added include for nasl.h.
	(plugins_reload_from_dir): Initialize include paths.

2009-02-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Basic support for glob-style pattern definitions within the 
	hostname --> sshlogin mapping.
	(CR #20, http://www.openvas.org/openvas-cr-20.html)
	
	* openvasd/attack.c (is_pattern): New, copied from clients
	nvt_pref_sshlogin, TRUE if string contains '*' or '?'.
	
	* openvasd/attack.c (pattern_matches): New, GHashTable- find- predicate.
	
	* openvasd/attack.c (fill_host_kb_ssh_credentials): Now tries if any
	pattern matches the hostname before falling back to Default login.

2009-02-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Refactoring and documentation in attack.c. Minor formatting changes.
	In preparation of pattern definitions for hostname --> sshlogin mapping.
	(CR #20, http://www.openvas.org/openvas-cr-20.html)
	
	* openvasd/attack.c (attack_init_hostinfos): Documented.
	
	* openvasd/attack.c (fill_host_kb_ssh_credentials): New, extracted from
	init_host_kb.
	
	* openvasd/attack.c (init_host_kb): Adjusted to call new method
	fill_host_kb_ssh_credentials.
	
	* openvasd/attack.c (attack_host): Minor formatting changes.
	
2009-02-02  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Cosmetics in the rules module.

	* openvasd/rules.h: Documentation and formatting of rules struct.
	
	* openvasd/rules.c (rules_get_fname): Removed unneeded forward decl.
	Documentation, K&R func decl. replaced.
	
	* openvasd/rules.c (get_host_rules): K&R func decl. replaced.,
	indentation.
	
	* openvasd/rules.c (rules_free): K&R func decl. replaced.

2009-01-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/pluginload.c (collect_nvts): Fixed a bug: Now
	subdir paths are correctly assembled and stored.

2009-01-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Introduce a new collection method for NVTs in the
	plugins folder. Now, it is recursed into subdirectories.
	As a side effect, the counting of NVTs is ow fixed: The correct
	total number of NVTs is shown during cache-building.

	* openvasd/pluginload.c (collect_nvts): Collects all files
	in a directory and recurses into subdirectories.
	(plugins_reload_from_dir): Use collect_nvts() instead
	of doing it on its own with glibc API.
	Also use g_str_has_suffix() for determining the plugin type
	instead of doing it on its own with glibc string commands.

2009-01-27  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Fixed SSH key file insertion into per-target knowledge- base.
	Scripts require the actually file content, not only the path.

	* openvasd/attack.c (init_host_kb): Does not set filename but file-
	contents in the knowledge base.

2009-01-27  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (oval_plugin_add): Add missing path to cache
	file.

2009-01-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/pluginload.c (plugins_reload_from_dir): Instead
	of homebrew "struct files", now uses glibs' GSList.
	(struct files, MAXFILES, files_init, files_add, files_walk,
	files_close): Removed.

2009-01-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (server_thread): Removed calling
	of plugins_reload_user. Per-user plugins are not a feature
	anymore.

	* openvasd/pluginload.c (plugins_reload_user): Removed. This
	function was a remainder from the plugin-upload feature which
	has been removed.

	* openvasd/pluginload.h: Removed proto accordingly.

2009-01-23  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	When the knowledge base for a host is initialized, look up the "Default"
	value for an ssh-account if no specific found.

	* openvasd/attack.c (init_host_kb): Looks up the account- name for the
	"Default" host, if none for hostname was found.

2009-01-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Removing unused and unneeded module "dirutils.c".

	* openvasd/dirutils.c: Removed.

	* openvasd/Makefile: Removed handling for dirutils.

	* MANIFEST: Updated.

2009-01-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Implement feature to allow to specify a specific
	directory for the .desc cache files. Defaults
	to /var/cache/openvas.
	No write access should be allowed to /lib/openvas/plugins
	eventually.
	However, compatibility is kept with older versions of
	openvasd.conf: In the absense of cache_folder definition
	in openvasd.conf, the old style is applied.

	It is highly recommended to specific "cache_folder"
	in openvasd.conf and remove old cache ("plugins_folder"/.desc).

	This change was derived from patches from Stjepan Gros.

	* openvasd/preferences.c (preferences_new): Added "cache_folder"
	with default.

	* configure.in, openvas.tmpl.in: add handling of OPENVASD_CACHE.

	* Makefile: Create configure cache dir during install

	* configure: updated.

2009-01-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (init_openvasd): First try "cache_folder"
	preference for cache folder. Fall back to old
	folder (plugins_folder/.desc).

2009-01-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/nasl_plugins.c (nasl_plugin_add, nasl_thread):
	Use exec_nasl_script instead of execute_nasl_script.
	Subsequently, remove any handling of the unneeded cache_dir.

2009-01-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: Upgraded dependency for openvas-libraries
	and openvas-libnasl both to 2.0.1

2009-01-20  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	When the knowledge base for a host is initialized, look up any ssh
	credentials information (that should be accessible if a nvt with a
	PREF_SSH_CREDENTIALS preference was available to the client and the user
	did specify the information).

	* openvasd/attack.c (init_host_kb): Comment added, empty newline removed.
	Looks up the hostname and user-defined login- account for the current
	host. Then adds "Secret/SSH/*" entries with this information to the
	knowledge base of the current host.

2009-01-20  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/ntp_11.c (files_add_translation): Commented, replaced K&R
	function declaration.

2009-01-20  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Parses the files that the client might sent if a plugin with a 'special'
	preference (PREF_SSH_CREDENTIALS) requested it.
	!Note that you need a recent openvas-libraries install to be able to
	compile!

	* openvasd/ntp_11.c (build_global_host_sshlogins_map): New.
	Parses the .host_logins file sent by the client and stores the mapping
	of user-defined login-account names to hostnames in the global arglist
	for later (per-host) lookup.
	
	* openvasd/ntp_11.c (build_global_sshlogin_info_map): New.
	Parses the .logins file sent by the client and stores the mapping of
	user-defined login-account names to openvas_ssh_login structs for later
	lookup and extraction of per-host login information.
	
	* openvasd/ntp_11.c (ntp_11_recv_file): Commented, calls the new methods
	accordingly if a file with the appropriate name has been received.

2009-01-20  Michael Wiegand <michael.wiegand@intevation.de>

	* openvas-adduser.in, openvas-mkcert.in, openvas-mkcert-client.in,
	openvas-rmuser.in: Make gettext usage more robust; previous versions
	expected gettext.sh to be in /usr/bin which is not always the case. This
	resolves bug #860 (http://bugs.openvas.org/).

2009-01-19  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd-config.in: Added support for retrieving the sbindir of an
	OpenVAS installation.

2009-01-19  Michael Wiegand <michael.wiegand@intevation.de>

	* Makefile: Fixed permissions for openvas/gnupg directory.

2009-01-16  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Cosmetics (reformatted ntp_11_recv_file, docs).
	
	* openvasd/ntp_11.c (ntp_11_recv_file): Reformatted.
	
	* openvasd/ntp_11.c: Tiny doc improvements.
	
2009-01-15  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd-config.in: Added support for retrieving the sysconfdir and
	libdir of an OpenVAS installation.

2009-01-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (main): Removed exit-upon-nonroot,
	because there is no reason why only root should start
	the server. It works well except for those
	operation where root privileges are needed.
	In cases where privileges are not sufficient, the
	log file will contain respective notes.

	* openvas-mkcert.in, openvas-adduser.in: Don't have
	it mandatory to be root.

2009-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Cosmetics (reformatted ntp_11_recv_file, docs).
	
	* openvasd/ntp_11.c (ntp_11_recv_file): Reformatted.
	
	* openvasd/ntp_11.c: Reformatted.

2009-01-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Refactoring attack method.

	* openvasd/attack.c (launch_plugin): Changed int to gboolean parameter,
	doc.
	
	* openvasd/attack.c (init_host_kb): New method, extracted from
	attack_host, comments, documentation.
	
	* openvasd/attack.c (attack_host): Changed new_kb to be gboolean,
	extracted init_host_kb function.

2009-01-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c (attack_host): Removed local unused variable
	kb_restored.

2009-01-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c (attack_host, attack_start): Reformatted.
	
	* openvasd/attack.c (attack_network): Remoded local unused variable
	return_code, added comment.

2009-01-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Comment style transformed to JavaDoc style, duplicate code found and
	TODOs added.

	* openvasd/save_kb.c: Transformed comments to JavaDoc style, minor
	improvements, added note about code duplicates in save_tests.c.
	
	* openvasd/save_tests.c: Added note about code duplicate in save_kb.c.

2009-01-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c (attack_network, launch_plugin) : Replaced tabs by
	spaces, repaired indentation & newlines, ready for refactoring.

2009-01-02  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (server_thread): Removed initialization
	of user-specific store (which happened after the fork) and
	lead to create of directory ".desc" in the
	/var/lib/openvas/users/USER/plugins.
	This code are remains of the unsecure feature of plugin
	upload. Apart from this, the OpenVAS Server should eventually
	not be responisble anymore for user-specific data storage.

2009-01-02  Michael Wiegand <michael.wiegand@intevation.de>

	* include/config.h.in, openvasd/openvasd.c: Changed
	OPENVASD_IANA_OTP_PORT to OPENVAS_IANA_OTP_PORT.

2009-01-02  Michael Wiegand <michael.wiegand@intevation.de>

	Modified openvasd to use the freshly allocated IANA port 9390 instead of
	the Nessus port 1241.

	* include/config.h.in: Removed NESIANA_PORT define, added
	OPENVASD_IANA_OTP_PORT define. Updated IANA URL.

	* openvasd/openvasd.c: Changed to use OPENVASD_IANA_OTP_PORT, fixed
	references to port 1241 in comment.

	* doc/openvasd.8.in: Mention that the default port is now 9390.

	* openvas-services: Added otp on port 9390 to the list of known
	services.

	* packaging/debian/openvas-server.default: Changed Debian defaults to
	9390.

	* packaging/debian/README.Debian: Mention that the default port in 9390.

2009-01-02  Michael Wiegand <michael.wiegand@intevation.de>

	* ltmain.sh: Removed since libtool is not used in the build process.

	* Makefile: Removed obsolete references to libtool.

2008-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c: Replaced K&R header, added comment to attack_host.

2008-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c: Replaced K&R header, added comment to attack_host.
	
2008-12-30  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/attack.c: Transformed comments to Javadoc style.

2008-12-29  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/otp_1_0.c: Applied patch from Hanno Böck to remove unwanted
	gpgme.h include.
	
	* openvasd/otp_1_0.c (client_request_t otp_1_0_get_client_request):
	Documented, removed K&R header.
	
	* openvasd/otp_1_0.c (otp_1_0_server_openvas_version): Double starred
	comment.

2008-12-26  Joey Schulze <joey@infodrom.org>

	* packaging/debian/copyright: Added Martin Bagge as new translator

	* packaging/debian/changelog: Import changelog from 1.0.2-5

2008-12-23  Michael Wiegand <michael.wiegand@intevation.de>

	* packaging/debian/po/sv.po: Updated Swedish translation as suggested by
	Martin Bagge.

2008-12-20  Tim Brown <timb@nth-dimension.org.uk>

	* openvas.tmpl.in, ssl/Makefile: Honour LDFLAGS.

2008-12-18  Tim Brown <timb@nth-dimension.org.uk>

	* openvas.tmpl.in: Honour CFLAGS.

2008-12-17  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.1.SVN.

2008-12-17  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the openvas-server 2.0.0 release.

	* CHANGES: Updated.

	* VERSION: Set to 2.0.0.

2008-12-16  Michael Wiegand <michael.wiegand@intevation.de>

	Updated build environment to use an up-to-date libtool version.

	* config.guess, config.sub, ltmain.sh, configure: Regenerated.

2008-12-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (init_openvasd): Removed code
	path for condition ENABLE_PLUGIN_SERVER which was
	never true and thus never executed.

2008-12-13  Joey Schulze <joey@infodrom.org>

	* packaging/debian/changelog: Added changelog entry from the
	recently uploaded Debian package

	* packaging/debian/po/de.po, packaging/debian/po/cs.po,
	packaging/debian/po/es.po, packaging/debian/po/fr.po,
	packaging/debian/po/gl.po, packaging/debian/po/nl.po,
	packaging/debian/po/pt.po, packaging/debian/po/pt_BR.po,
	packaging/debian/po/sv.po, packaging/debian/po/templates.pot:
	Updated PO files after debconf-updatepo and adjusting new fuzzy
	translations

	* doc/openvasd.8.in: Fix broken comment

	* packaging/debian/openvas-server.prerm: Add switch to make script
	fail in case of errors
	
	* packaging/debian/openvas-server.postinst: Switch shell to bash
	to be compliant with bashisms

	* packaging/debian/copyright: Reworked copyright file

2008-12-05  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.0.rc2.SVN.

2008-12-05  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the openvas-server 2.0-rc1 release.

	* CHANGES: Updated.

	* VERSION: Set to 2.0.0.rc1.

2008-12-05  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/processes.c (create_process): Ignore warning about srand48
	not being random enough; it is random enough for our purposes.

	* openvasd/pluginload.c (files_init, files_close): Ignore warnings
	about srand not being random enough; see above.

2008-12-05  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/comm.c (send_plug_info): Fixed insufficient memory
	allocation which could have caused a buffer overflow when trying to
	assemble the plugin_info string for NVTs with long CVEs, BIDs, XRefs
	and Tags. Made memory allocation more transparent. Ignore strcat
	warnings since enough memory is allocated beforehand now. Ignore
	snprintf warning since systems able to compile and run will most likely
	not use libc4.[45], where snprintf usage is a potential security
	issue.

2008-12-03  Michael Wiegand <michael.wiegand@intevation.de>

	Implementing CR #22 (New script_tag Command,
	http://www.openvas.org/openvas-cr-22.html).

	* openvasd/comm.c (send_plug_info): Added support for sending NVT tags
	to client.

2008-12-02  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/comm.c : Repaired sending NOXREF, NOCVE, NOBID, NOSIGNKEY if
	none found (instead of empty string).

2008-12-02  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/comm.c : Comments added.

2008-11-28  Joey Schulze <joey@infodrom.org>

	* packaging/debian/openvasd.conf: Disable signature check

2008-11-27  Joey Schulze <joey@infodrom.org>

	* packaging/debian/openvas-server.postinst: Corrected server
	restart (init file was renamed from openvasd to openvas-server
	some revisions earlier)

2008-11-21  Joey Schulze <joey@infodrom.org>

	Sync with Debian packaging as uploaded to ftp-master
	
	* packaging/debian/control: Adjust uploaders, add section for
	openvas-server and -dev

	* packaging/debian/changelog: Add changelog records for versions
	1.0.2-1, 1.0.2-2 and 1.0.2-3 

2008-11-19  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/changelog: Updated.

	* packaging/debian/control: Adjusted dependencies to use beta2 versions of the libraries.

2008-11-19  Joey Schulze <joey@infodrom.org>

	* packaging/debian/openvas-server.install: Removed reference to
	openvas-check-signature.1 that was removed

2008-11-19  Michael Wiegand <michael.wiegand@intevation.de>

	* packaging/debian/copyright: Added missing Intevation copyright.

2008-11-18  Michael Wiegand <michael.wiegand@intevation.de>

	Fixing version requirements for glib as pointed out by atomicturtle.

	* configure.in: Updated glib requirements to >= 2.6.0

	* configure: Regenerated.

	* aclocal.m4: Regenerated to update PKG_CHECK_MODULES.

2008-11-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/ntp_11.c: comment added.

	* openvasd/comm.c (comm_send_preferences): Comment, sending 
	nasl_no_signature_check as server pref to client.

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.0.beta3.SVN.

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	Preparing the 2.0-beta2 release.

	* VERSION: Set to 2.0.0.beta2.

	* MANIFEST: Updated.

	* CHANGES: Updated.

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	* openvas.tmpl.in, openvas-adduser.in, openvas-mkcert-client.in,
	openvas-rmuser.in: Added datarootdir to remove configure warning and to
	be compatible with autoconf 2.60 (see
	http://www.gnu.org/software/libtool/manual/autoconf/Changed-Directory-Variables.html).

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	Applying patch provided by Stjepan Gros to update Makefile target and
	to improve code readability.

	* openvasd/openvasd.c (init_openvasd): Minor reformattings.

	* openvasd/Makefile: Remove openvasd-config when distclean target
	is invoked.

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	Applying patch provided by Stjepan Gros to eliminate compiler warnings.

	* openvasd/oval_plugins.c (oval_plugin_add, ovaldi_launch): Minor
	reformattings, changes to eliminate compiler warnings.

	* openvasd/otp_1_0.c (otp_1_0_server_send_certificates): Casting to
	eliminate compiler warning.

2008-11-14  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (ovaldi_launch): Re-added G_SPAWN_SEARCH_PATH
	flag to g_spawn_sync call since it was lost in rev 1703.

2008-11-13  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/otp_1_0.c (otp_1_0_server_send_certificates) : closed mem 
	leak.

2008-11-12  Michael Wiegand <michael.wiegand@intevation.de>

	Applying patch provided by Stjepan Gros to improve 64-bit cleanliness.

	* openvasd/nasl_plugins.c, openvasd/ntp_11.c, openvasd/attack.c,
	openvasd/save_kb.c, openvasd/openvasd.c, openvasd/nes_plugins.c,
	openvasd/pluginload.c, openvasd/save_tests.c, openvasd/comm.c,
	openvasd/pluginscheduler.c: 32/64-bit cleanups, introduced glib.

2008-11-12  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Work on Change Request #17 (http://www.openvas.org/openvas-cr-17.html -
	"OTP: Make NVT signatures available to OpenVAS-Client").
	Certificate information sending functionality improved. Sends real 
	information, not dummystrings.

	ATTENTION: needs openvas-libnasl rev. 1702 to compile smoothly.

	* configure.in : Macros for gpgme public key support added.

	* include/config.h.in : undef _FILE_OFFSET_BITS for AC_SYS_LARGEFILE

	* configure : regenerated.

	* openvasd/otp_1_0.h : proto added.

	* openvasd/otp_1_0.c (otp_1_0_server_send_certificates) : nasl, glib 
	includes. Does send real information, not dummystrings.

	* openvasd/ntp_11.c : removed interpretation of a void return.

	* openvasd/oval_plugins.c : Includes ordered and missing ones added.

	* ChangeLog : shamefully changed typos with my own email adress.

2008-11-12  Michael Wiegand <michael.wiegand@intevation.de>

	* configure.in: Added AC_PREREQ directive to tell autoconf to generate
	a 2.50-style configure script.

	* configure: Regenerated.

2008-11-12  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: (child_setup) Implemented privilege dropping
	before calling ovaldi. (ovaldi_launch) Improved parsing of RPM package
	list.

2008-11-10  Michael Wiegand <michael.wiegand@intevation.de>

	* configure.in: Include version requirements in glib error string as
	pointed out by Jon Bebeau.

	* configure: Regenerated.

2008-11-10  Michael Wiegand <michael.wiegand@intevation.de>

	Removed openvas-check-signature since signature verification can now be
	done with existing third-party tools like gnupg. Additionally,
	openvas-check-signature was the last executable to depend on the local
	copies of getopt which is no longer provided by openvas-libraries.

	* openvasd/openvas-check-signature.c: Removed.

	* openvasd/Makefile: Removed handling of openvas-check-signature.

	* include/config.h.in: Removed obsolete getopt defines.

	* doc/openvas-check-signature.1: Removed documentation of
	openvas-check-signature.

	* MANIFEST: Updated.

	* Makefile: Updated.

2008-11-07  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/nasl_plugins: Removed printfs.

	* openvasd/otp_1_0.c (otp_1_0_server_send_certificates): Extended dummy
	string, slightly better error msg.

	* oopenvasd/oval_plugins.c (oval_plugin_add): Check certificates, add
	fingerprint string.

	* oopenvasd/oval_plugins.c (oval_plugin_launch): TODO added to avoid
	execution of unsigned plugins, if server preference is set.


2008-11-06  Felix Wolfsteller <felix.wolfsteller@intevation.de>
	
	* openvasd/otp_1_0.c (otp_1_0_server_send_certificates): Fixed bug 
	(wrong type released) that caused definite server crash.


2008-11-06  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (ovaldi_launch): Added G_SPAWN_SEARCH_PATH
	flag to g_spawn_sync call.

2008-11-05  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/attack.c (launch_plugin): Use OIDs instead of IDs when
	logging information about NVT execution to KB.

2008-11-05  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Work on Change Request #17 (http://www.openvas.org/openvas-cr-17.html - 
	"OTP: Make NVT signatures available to OpenVAS-Client").
	Replaced sending of dummy certificate key oids by "real" fingerprints.
	Sends dummy certificate information.

	* openvasd/nasl_plugins.c (nasl_plugin_add): Replaced the dummy string 
	for certificate fingerprints by real value from store / certificate 
	file, corrected behaviour for missing signature files.

	* openvasd/otp_1_0.c: Added gpgme dependency and a dummy strings for 
	the cerrtificate sending.

	* openvasd/comm.d (send_plug_info): increased size of buffer to send pl.

2008-11-04  Michael Wiegand <michael.wiegand@intevation.de>

	* configure.in: Updated version requirements for -libraries and
	-libnasl.

2008-10-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	Steps to an implementation of Change Request #17 
	(http://www.openvas.org/openvas-cr-17.html - "Make NVT signatures 
	available to OpenVAS-Client").
	Uses the new field "sign_key_ids" of plugin-structures and the .desc 
	store. Until soon, just a dummy- string will be used and eventually
	transmitted by the server.

	IMPORTANT: Breaks compatibility and renders old server .desc- cache 
	files useless. You will need an openvas-libraries revision >= 1654 in 
	order to compile and a client of revision >= 1654 in order to work with 
	the server. There might be problems with transmitting OVAL plugins to 
	the client.

	* openvasd/nasl_plugins.c (nasl_plugin_add) : Set a dummy key_ids-
	string, improved readability (a bit).

	* openvasd/pluginload.c: Typo in comment fixed.

	* openvasd/oval_plugins.c: Stated a FIXME and removed unreachable NULL
	return.

	* openvasd/otp_1_0.h: Added CREQ_CERTIFICATES symbol.

	* openvasd/otp_1_0.c (otp_1_0_get_client_request,
	otp_1_0_server_send_certificates): Added CREQ_CERTIFICATES parsing and 
	a method stub to send the certificates.

	* openvasd/otp_1_0.c (ntp_11_parse_input): Handling of 
	CREQ_CERTIFICATES added.

	* openvasd/comm.c (send_plug_info): Sends the additional key_ids field.

	* openvasd/comm.c (comm_setup_plugins): Comment and use of symbol 
	instead of numeral.

2008-10-31  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/nasl_plugins.c (nasl_plugin_add): Replaced obsolete ID check
	 by OID check (might have excluded id-less scripts), added comment.

2008-10-17  Felix Wolfsteller <felix.wolfsteller@intevation.de>

	* openvasd/nsp.h: Removed. Contained include guard and gpl only.

	* Manifest: Updated (removed openvasd/nsp.h).

2008-10-12  Tim Brown <timb@nth-dimension.org.uk>

	* configure: Refreshed auto* (aclocal && autoconf) as ./configure was barfing.

	* configure, configure.in: GLIB needs to be quoted when we pass it to
	PKG_CHECK_MODULES in configure.in, otherwise m4 tries to expand it.

	* Makefile: Now makes $localstatedir/openvas/private/CA

	* packaging/debian/changelog: Updated.

	* packaging/debian/copyright: Updated with details of translators.

	* packaging/debian/rules: Cleaned up.

	* packaging/debian/README.Debian: Updated.

	* packaging/debian/control: Updated standards version. Adjusted
	dependencies to use libopenvas2-dev and libopenvasnasl2-dev.

	* packaging/debian/openvas-server.default: Changed defaults so that it
	listens on 1241 on 127.0.0.1 by default.

	* doc/openvasd-config.1: Added to keep lintian quiet.

	* packaging/debian/openvas-server-dev.dirs, openvas-server-dev.install,
	Makefile: Updated.

2008-10-01  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: Changed to set OIDs exclusively; setting IDs
	as a workaround for NTP is no longer required.

2008-10-01  Michael Wiegand <michael.wiegand@intevation.de>

	* doc/otp_specification_10.txt: Removed; the specification for OTP has
	been updated and moved to the OpenVAS compendium.

	* MANIFEST: Updated.

2008-09-25  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 2.0.0.beta2.SVN

2008-09-25  Michael Wiegand <michael.wiegand@intevation.de>

	Doing the 2.0-beta1 release.

	* VERSION: Set to 2.0.0.beta1

	* CHANGES: Updated.

2008-09-25  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c (ovaldi_launch), openvasd/dirutils.c
	(init_directories): Changed unsafe uses of sprintf to use snprintf with
	the correct buffer sizes.

2008-09-25  Michael Wiegand <michael.wiegand@intevation.de>

	* MANIFEST: Updated.

2008-09-25  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/oval_plugins.c: Added notice regarding running ovaldi with
	reduced privileges.

2008-09-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/comm.c (comm_init):  Removed setting of scan_ids
	and pubkey_auth.

2008-09-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (server_thread): Removed
	conditional for ntp_11, because this is standard for otp.

	* openvasd/comm.c (comm_init):  Removed setting of ntp_11.
	(comm_wait_order): Removed conditional for ntp_11, because
	this is standard for otp.

	* openvasd/Makefile: Removed module ntp_10.

	* openvasd/ntp_10.h, openvasd/ntp_10.c: Removed. The only
	method defined there is not needed anymore since no ntp_10
	fallback does make sense with otp.

2008-09-22  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/ntp_11.c (ntp_11_parse_input): Replaced call of ntp_11_prefs()
	by calling ntp_11_read_prefs() for PREFERENCES command. ntp_11_prefs
	does nothing relevant except calling ntp_11_read_prefs.
	(ntp_11_prefs): Removed. It only handled escape_crlf which is fixed to
	true for OTP.

	* openvasd/attack.c (attack_network): Removed retrieval of ntp_caps as
	these are not used here anyway.

	* openvasd/comm.c (comm_init): Removed any consideration of ntpcaps
	element "plugins_xrefs", "timestamps" and "ciphered".

2008-09-19  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/ntp_11.c (ntp_11_prefs, ntp_11_send_prefs_errors): Removed
	support for PREFERENCES ERROR message type as it was never properly
	implemented and is now obsolete.

	* openvasd/comm.c (plugin_send_infos): Tidied up plugin search code,
	fixed possible bug where an plugin would have not been found if it was
	the last plugin in the list.

2008-09-17  Michael Wiegand <michael.wiegand@intevation.de>

	Changed communication protocol to use OTP exclusively now. Removed the
	last instances of dynamic protocol extension selection.

	* openvasd/openvasd.c (server_thread): Ignore obsolete capabilities
	fast_login (gone from client) and md5_caching (default now).

	* openvasd/comm.c: (extract_extensions) Removed. Protocol features are
	no longer supported. (comm_init) Removed handling of NTP 1.0, 1.1 and
	1.2 and added handling of OTP 1.0. Moved remaining default options from
	extract_extensions to comm_init. Changed log message to be more
	descriptive.

2008-09-16  Michael Wiegand <michael.wiegand@intevation.de>

	Optimized plugin selection with OIDs. Selection is now considerably
	faster.

	* openvasd/comm.c: (qsort_cmp) Comparator now compares OIDs instead of
	IDs. (_get_plug_by_id) Removed. (_get_plug_by_oid) Adapted from
	_get_plug_by_id to use OIDs. (get_plug_by_id) Removed. (get_plug_by_oid)
	Adapted from get_plug_by_id to use OIDs. (comm_setup_plugins) Re-enabled
	plugin sorting.

2008-09-15  Michael Wiegand <michael.wiegand@intevation.de>

	Fixes to re-enable plugin loading after the OID changes. Please note
	that the selection of the plugins chosen by the user at the start of a
	new scan is _very_ slow at the moment since the plugin retrieval
	function is not yet optimized.

	* openvasd/nasl_plugins.c (nasl_plugin_launch): Call
	preferences_plugin_timeout with OID instead of ID.

	* openvasd/plugs_hash.c (plugins_send_md5_byid): Send OID instead of ID
	when sending MD5 hashes for plugin. (plugins_send_md5): Removed
	handling of obsolete md5_by_name capability.

	* openvasd/comm.c: Added new get_plug_by_oid function to retrieve
	plugins based on OID. Note that this makes plugin selection _very_ slow
	at the moment since the ID based optimized retrieval could no longer be
	used. (comm_setup_plugins) Changed to parse and use OIDs instead of IDs.

2008-09-11  Javier Fernandez-Sanguino <jfs@debian.org>

	* po/README: Typo fix.

2008-09-10  Michael Wiegand <michael.wiegand@intevation.de>

	Make the plugin timeout settings use OID instead of ID.

	* openvasd/preferences.c (preferences_plugin_timeout): Changed to use
	OIDs.

	* openvasd/preferences.h: Adjusted function declaration.

	* openvasd/pluginlaunch.c (plugin_launch): Call
	preferences_plugin_timeout with OID instead of ID.

2008-09-05  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Make the command PLUGIN_LIST send OIDs instead of old IDs.
	Make the PLUGIN_INFO command be interpreted with OIDs
	instead of IDs.

	* openvasd/comm.c (send_plug_info): Changed behaviour
	that in case there is no OID, the plugin is not sent
	and instead a log message is issued. Previously the ID "1"
	was applied.
	Send OID instead of old ID.
	(plugin_send_infos): Now takes char * oid as second parameter
	instead of int id.

	* openvasd/comm.h: Changed proto for plugin_send_infos accordingly.

	* openvasd/ntp_11.c (ntp_11_parse_input): Call plugin_send_infos
	with its new API.

2008-09-09  Michael Wiegand <michael.wiegand@intevation.de>

	Adding preliminary support for OVAL definitions. Second step for change
	request #13 (Integrating the OVAL interpreter ovaldi into OpenVAS
	Server) (http://www.openvas.org/openvas-cr-13.html)

	* openvasd/oval_plugins.c: First usable proof-of-concept integration of
	OVAL definitions into OpenVAS.

2008-09-08  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/comm.c (extract_extensions): Removed superfluous else that
	broke compilation.

2008-09-05  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Making protocol extension "timestamps" standard.

	* openvasd/ntp_11.c (__ntp_1x_timestamp_scan,
	__ntp_1x_timestamp_scan_host): Removed conditional
	for timestamps.

	* openvasd/comm.c (extract_extensions): Removed conditional
	for "timestamps", it is standard now.

	* doc/otp_specification_10.txt: Updated to described
	that protocol extension "timestamps" has been made standard.

2008-09-02  Michael Wiegand <michael.wiegand@intevation.de>

	* openvas-services: Fixed changes from rev 83 that caused the server to
	not report the appropriate port for the service when an open port 1241
	was detected.

2008-09-01  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Making protocol extension "plugins_version", "plugins_cve_id",
	"plugins_bugtraq_id" and "plugins_xrefs" standard.

	* openvasd/comm.c (extract_extensions): Removed handling
	of "plugins_version" "plugins_cve_id", "plugins_bugtraq_id"
	and "plugins_xrefs" extension.
	(send_plug_info): Always send NVT version, CVE ID, Bugtraq ID
	and cross references.

	* doc/otp_specification_10.txt: Updated to described
	that protocol extension "plugins_version", "plugins_cve_id",
	plugins_bugtraq_id" and "plugins_xrefs" have been made standard.

2008-09-01  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Making protocol extension "dependencies" standard.

	* openvasd/comm.c (extract_extensions): Removed handling
	of "dependencies" extension.

	* openvasd/openvasd.c (server_thread): Always send dependencies.

	* doc/otp_specification_10.txt: Updated to described
	that protocol extension dependencies has been made standard.

2008-08-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Remove NEW_ATTACK command.

	* openvasd/ntp_11.c (ntp_11_new_attack): Removed.

	* openvasd/otp_1_0.c (otp_1_0_get_client_request): Removed
	NEW_ATTACK handling.

	* openvasd/otp_1_0.h: Removed CREQ_NEW_ATTACK.

2008-08-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/otp_1_0.c (otp_1_0_get_client_request): New method.

	* openvasd/otp_1_0.h: Added proto for
	otp_1_0_get_client_request and added client_request_t.

	* openvasd/ntp_11.c (ntp_11_parse_input): Reorganized
	parsing into a switch-case design. This simplified the code
	and several memory leaks were eliminated.

2008-08-30  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Start the otp 1.0 module with a first simple method.

	* doc/otp_specification_10.txt: Added documentation
	of OPENVAS_VERSION command.

	* openvasd/otp_1_0.h, openvasd/otp_1_0.c: New. This module will
	implements OTP 1.0 and initially contains
	otp_1_0_server_openvas_version().

	* openvasd/Makefile: Handle module otp_1_0.

	* openvasd/ntp_11.c (ntp_11_parse_input): Call
	otp_1_0_server_openvas_version() instead of sending
	text on its own.

	* MANIFEST: updated.

2008-08-29  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/kb_entries.txt: Removed those entries that could be
	integrated into openvas-compendium. Ordered the rest alpabetically
	and attached a big hint about the status of these information.

2008-08-29  Michael Wiegand <michael.wiegand@intevation.de>

	Adding preliminary support for OVAL definitions. First step for change
	request #13 (Integrating the OVAL interpreter ovaldi into OpenVAS
	Server) (http://www.openvas.org/openvas-cr-13.html)

	* openvasd/oval_plugins.c: New. Supports a new class of plugins, namely
	vulnerability definitions in OVAL, the Open Vulnerability and
	Assessment Language. Only loading the definitions is supported as of
	this revision.

	* openvasd/Makefile: Updated.

	* openvasd/pluginload.c(init_plugin_classes): Added new
	oval_plugin_class.

	* openvasd/pluginload.h: Added new oval_plugin_class.

	* MANIFEST: Updated.

2008-08-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Cleanup (flaten) doc directory.

	* doc/ntp/: Removed. It was empty now.

	* doc/otp/otp_specification_10.txt: Removed. Moved one
	directory level up.

	* doc/otp_specification_10.txt: Moved here from  otp/ directory.

	* doc/otp/: Removed. It was empty now.

2008-08-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	First step of consolidating the protocol documentation
	finished.

	* doc/otp/otp_specification_10.txt: Extended and improved
	protocol documentation.

	* doc/ntp/plugin_prefs.txt, doc/ntp/ntp_extensions.txt,
	doc/ntp/README: Removed. All relevant information are now
	covered by otp_specification_10.txt.

	* MANIFEST: Updated.

2008-08-28  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Continued consolidation of protocol documentation.

	* doc/otp/otp_specification_10.txt: Extended and improved
	protocol documentation.

	* doc/ntp/ntp_extensions.txt:  Removed elements
	that are ported now covered by otp_specification_10.txt.

2008-08-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Continued consolidation of protocol documentation.

	* doc/otp/otp_specification_10.txt: Extended and improved
	protocol documentation.

	* doc/ntp/ntp_extensions.txt:  Removed elements
	that are ported now covered by otp_specification_10.txt.

2008-08-25  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/users.h: Corrected #define.

2008-08-25  Michael Wiegand <michael.wiegand@intevation.de>

	* MANIFEST: Updated to include doc/openvas-mkcert-client.1.

2008-08-25  Michael Wiegand <michael.wiegand@intevation.de>

	Fixes to path names used in server scripts.

	* openvas-mkcert-client.in: Corrected variable names.

	* configure.in: Changed OPENVASD_SHAREDSTATEDIR to use $localstatedir to
	avoid the use of the /com hierarchy.

	* configure: Updated.

	* openvas-mkcert.in: Retain proper definition of $localstatedir, removed
	duplicate "/lib/".

2008-08-22  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/pluginscheduler.c (hash_link_destroy): Fixed another instance
	of the memory management issue that resulted in a crash during scans.

	* openvas-adduser.in: Re-added missing prefix variables.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/README.Debian: Updated and fixed some content.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/README.Debian: Adjust the name of the init.d file.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/README.Debian: Rebranding and changes to reflect the
	changes in OpenVAS.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/README.Debian: Restore the notes for users.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* Makefile: Proper use of OPENVASD_STATEDIR in the Makefile, since using
	localstatedir does not make sense when we already have a definition
	(that can be overriden by the user if needed).

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	Added a manpage for openvas-mkcert-client similar to the one written for
	Nessus.

	* doc/openvas-mkcert-client.1: Added.

	* Makefile: Updated.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-rmuser.in: Exit without error if no errors exist.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-rmuser.in: Final fix for localstatedir definitions.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-adduser.in: Retain proper definition of localstatedir,
	reverting the change in r150 and fixing properly the definition in the
	usage in the script. Changing $localstatedir to other thing different
	from @localstatedir@ is confusing and error prone!

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-adduser.in: Should use /var/lib/openvas instead of
	/var/openvas.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-mkcert.in: Use the proper definitions to setup the location
	of the private and public CA keys.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-mkcert-client.in: Have nessus-mkcert-client warn if the server
	certificates cannot be read (happens when you are not root). Based on
	patch included in Debian since nessus-core 2.2.3-1, in February 2002.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvas-mkcert-client.in: Proper fix for the FHS issue, the "fix"
	introduced in release 150 actually made this script use /var/openvas/CA
	for some of the keys when it should be using /var/lib/openvas/CA instead
	(/var/openvas is not a FHS directory). This fix is based in the patch
	introduced in Debian for nessus-core (since, at least 1.2.6, 6 years
	ago).

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* openvasd/Makefile: Remove undefined variable.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/changelog, packaging/debian/control: Prepare for
	packaging of 1.0.1 version.

2008-08-22  Javier Fernandez-Sanguino <jfs@debian.org>

	* packaging/debian/po/cs.po, packaging/debian/po/de.po,
	packaging/debian/po/es.po, packaging/debian/po/fr.po,
	packaging/debian/po/gl.po, packaging/debian/po/nl.po
	packaging/debian/po/pt.po, packaging/debian/po/pt_BR.po,
	packaging/debian/po/sv.po: Manually update the debian po files (change
	'nessus-mkcert' to 'openvas-mkcert') and unfuzzy the modified string in
	all languages.

	* packaging/debian/changelog: Updated.

2008-08-21  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/pluginscheduler.c (hash_add): Fixed a memory management issue
	that resulted in a crash during scans.

2008-08-11  Michael Wiegand <michael.wiegand@intevation.de>

	First step for change request #9 (Make OpenVAS use (and depend on) glib)
	(http://www.openvas.org/openvas-cr-9.html)

	* openvasd/openvasd.c: Replaced getopt command line parsing with glib
	command line parsing.

	* openvasd/Makefile: Include Libs and Cflags for glib.

	* configure: Regenerated.

	* configure.in: Added check for glib, removed check for getopt.

	* openvas.tmpl.in: Added support for glib.

	* aclocal.m4: Added support for pkg-config.

2008-08-11  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Continued consolidation of protocol documentation.

	* doc/ntp/ntp_white_paper_11.txt:  Removed. It does not contain
	any information not covered by otp_specification_10.txt
	or defined elsewhere.

	* doc/otp/otp_specification_10.txt: Extended with various
	protocol command documentation.

2008-08-10  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/ntp/ntp_white_paper.txt: Removed. It does not contain
	any information not covered by otp_specification_10.txt.

	* doc/ntp/ntp_white_paper_11.txt: Removed those elements
	which are documented cleanly in otp_specification_10.txt

	* doc/otp/otp_specification_10.txt: Extended with various
	protocol command documentation.

	* MANIFEST: Updated.

2008-08-08  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Started clean documentation of OTP.

	* doc/otp/otp_specification_10.txt: Extended with various
	protocol command documentation.

	* doc/ntp/ntp_extensions.txt, doc/ntp/ntp_white_paper.txt:
	Removed those elements which are documented cleanly
	in otp_specification_10.txt

	* openvasd/comm.c (plugin_send_infos): Added comment
	hinting at a potential bug.

2008-08-08  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Patch for Change Request #15:
	http://www.openvas.org/openvas-cr-15.html
	(OpenVAS Server: Remove features for detached scans)

	* openvasd/ntp_11.c: Don't include detached.h anymore.
	(ntp_11_stop_detached_session, ntp_11_list_detached_sessions,
	extract_detached_session_key_from_session_msg): Removed.
	(ntp_11_parse_input): Removed handling of STOP_DETACHED and DETACHED_SESSIONS_LIST.
	(ntp_11_parse_input): Fixed anyway-misplaced ENABLE_SAVE_TESTS conditional.

	* openvasd/preferences.c (preferences_detached_scan, preferences_detached_scan_email,
	preferences_continuous_scan, preferences_delay_between_scans): Removed.
	(preferences_reset_cache): Removed initializing of detached params.

	* openvasd/preferences.h: Removed protos for preferences_detached_scan,
	preferences_detached_scan_email, preferences_delay_between_scans and
	preferences_continuous_scan.

	* openvasd/attack.c: Removed include for detached.h.
	(attack_network): Removed handling of "detached" and "continous".
	(attack_sigterm, arg_addset_value): Removed.

	* openvasd/hosts.c: Removed include for detached.h.
	(forward): Removed handling for detached scans.

	* Makefile: Don't handle detached module.

	* doc/ntp/ntp_extensions.txt: Removed documentation about the
	detached functionality.

	* openvasd/utils.c: Removed include for detached.h. It wasn't
	required anyway.

	* openvasd/comm.c: Removed include for detached.h. It wasn't
	required anyway.
	(comm_send_preferences): Don't send settings for ntp_detached_sessions
	anymore.

	* openvasd/detached.c, openvasd/detached.h: Removed.

	* MANIFEST: Updated.

2008-08-08  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: Set to 1.1.0.SVN to reflect that the 1.0 development
	has been branched and the development here lead to a next
	major release.

2008-08-07  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Final step of Change Request #4,
	http://www.openvas.org/openvas-cr-4.html :
	Remove plugin upload feature

	* openvasd/pluginupload.c, openvasd/pluginupload.h: Removed.

	* openvasd/Makefile: Removed handling of module pluginupload.

	* openvasd/ntp_11.c: (ntp_11_parse_input): Removed command
	ATTACHED_PLUGIN from protocol.

	* doc/openvasd.8.in: Removed documentation of "plugin_upload".

	* doc/ntp/ntp_extensions.txt: Removed description of
	ATTACHED_PLUGIN.

	* MANIFEST: Updated.

2008-08-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Branching of 1.0 series happened. The present file
	described trunk developments.

2008-07-31  Tim Brown <timb@nth-dimension.org.uk>

	* openvas-adduser.in: Now sets prefix, execprefix during build.

2008-07-07  Jan Wagner <waja@cyconet.org>

	* packaging/debian/openvasd.conf,packaging/debian/changelog:
	removed traces of Nessus in favour of OpenVAS

2008-07-07  Michael Wiegand <michael.wiegand@intevation.de>

	Removed outdated and obsolete file doc/README.INSTALL.

	* doc/README.INSTALL: Removed.

	* MANIFEST: Updated.

2008-07-03  Michael Wiegand <michael.wiegand@intevation.de>

	Post release version bump.

	* VERSION: Set to 1.0.2.SVN

2008-07-03  Michael Wiegand <michael.wiegand@intevation.de>

	Doing the 1.0.1 release.

	* VERSION: Set to 1.0.1.

	* CHANGES: Updated.

2008-07-03  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/control, packaging/debian/openvas-server.templates, 
	packaging/debian/po/*: Fixed po files.

	* packaging/debian/openvas-server.init: Modified init info in
	openvas-server.init to include descriptions.

	* packaging/debian/changelog: Updated.

2008-07-03  Michael Wiegand <michael.wiegand@intevation.de>

	* doc/otp/otp_specification_10.txt: Made OTP specification more specific
	regarding the removal of session handling.

2008-07-02  Michael Wiegand <michael.wiegand@intevation.de>

	* configure.in: Raised minimum required version of openvas-libnasl
	from 0.9.1 to 1.0.1.

	* configure: Updated.

2008-07-02  Michael Wiegand <michael.wiegand@intevation.de>

	* openvasd/openvasd.c (main): Updated version and copyright information
	to make them consistent with OpenVAS-Client.

2008-07-02  Jan Wagner <waja@cyconet.org>

	Split off -dev package for Debian packaging.

	* packaging/debian/openvas-server-dev.dirs,
	packaging/debian/openvas-server.dirs,
	packaging/debian/openvas-server.docs: Added.

	* packaging/debian/dirs, packaging/debian/docs: Removed.

	* packaging/debian/changelog, packaging/debian/control,
	packaging/debian/rules: Added documentation and handling for -dev
	Package.

2008-07-01  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: Updated.

	* openvasd/detached.c (detached_new_session): Fixed wrong use of system
	call "open" (if O_CREAT is applied, the command needs specification of
	access flags).

2008-06-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in: fix variable replacement problem.
	Original problem report and initial patch supplied by
	Ales Nosek.

2008-06-24  Michael Wiegand <michael.wiegand@intevation.de>

	Added a first draft of the OTP specification.
	
	* doc/otp/: Added.
	
	* doc/otp/otp_specification_10.txt: Added.

2008-06-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/users.c (users_add_rule): Fixed overflow problem.
	Found by Ales Nosek.

2008-06-19  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/control: Minor updates to control file, fixed
	Section, Priority and Build-Depends directives.

2008-06-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/kb_saving.txt: Changed some history naming back from
	OpenVAS to Nessus (probably a search-replace mistake).
	Also removed a documentation URL to nessus.org where
	the page has been removed meanwhile.

2008-05-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Second step for Change Request #4 (Remove plugin upload feature),
	http://www.openvas.org/openvas-cr-4.html

	* MANIFEST: Added packaging/debian

	* openvasd/pluginupload.c, openvasd/pluginupload.h: Added
	note about when this module can be removed.

	* openvasd/ntp_11.c (ntp_11_read_prefs): remove
	consideration of system preferences "admin_user",
	"plugin_upload" and "plugin_upload_suffixes".
	(ntp_11_parse_input): Remove undocumented protocol
	command "HUP_FATHER".

	* openvasd/preferences.c (preferences_new):
	Removed write defaults for these system preferences:
	"admin_user", "plugin_upload" and "plugin_upload_suffixes".
	(preferences_upload_enabled, preferences_upload_suffixes,
	preferences_user_is_admin): Removed.
	(preferences_reset_cache): Removed call of
	preferences_upload_enabled.

	* openvasd/preferences.h: Removed protos for
	preferences_user_is_admin, preferences_upload_enabled
	and preferences_upload_suffixes.

	* openvasd/comm.c (comm_send_preferences): No need of
	exception for "admin_user" any more.

	* openvasd/utils.c (get_max_hosts_number, get_max_checks_number): Removed
	allowance of overridung max_checks and max_hosts when
	being defined a admin user.

	* openvas-adduser.in: Removed the creation of the users
	plugins directory.
	Also removed any unused variable setttings via configure.

2008-05-11  Tim Brown  <timb@nth-dimension.org.uk>

	* debian: Removed as it will be replaced with packaging/debian.
	* packaging/debian: New. Debian packaging files.
	* doc/unbsp.c: Removed as no longer used.

2008-05-08  Bernhard Herzog  <bh@intevation.de>

	First step for Change Request #4 (Remove plugin upload feature),
	http://www.openvas.org/openvas-cr-4.html

	* openvasd/pluginupload.c (plugin_recv): Always discard the
	uploaded data and reject the plugin upload.  This change removes
	support for plugin upload without changing the protocol
	(plugins_homedir): Removed. No longer used.

2008-05-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/ntp.h: Removed. The contents is now in "ntp.h" of
	the openvas-libraries module.

	* include/openvas-devel.h: Removed. The content was redundant
	anyway (error prone!) and now is only in ntp.h of module
	openvas-libraries.

	* include/includes.h: Instead of openvas-devel.h now include ntp.h.

	* configure.in: Raised minimum required version of openvas-libraries
	from 1.0.0 to 1.0.2.

	* Makefile: Don't install openvas-devel.h anymore.

	* MANIFEST: Updated.

	* configure: Updated.

2008-04-18  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* packaging/fedora: New. Directory for Fedora RPM files.

	* packaging/fedora/openvas-server-1.0.0-1.fc8.openvas.spec,
	packaging/fedora/openvas-server-1.0.0-Makefile.diff: New.

	* MANIFEST: updated.

2008-04-16  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* packaging: New. Directory for packaging files.
	* packaging/opensuse: New. Directory for OpenSUSE RPM files.
	* packaging/opensuse/openvas-server-1.0.0-1.suse102.openvas.spec,
	packaging/opensuse/openvas-server-1.0.0-Makefile.diff: New.

2008-04-16  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Add missing DESTDIR for install targets.

2008-02-26  Tim Brown <timb@nth-dimension.org.uk>

	* openvasd/log.c, openvasd/preferences.c, doc/openvasd.8.in: Now
	supports syslog as per Nessus 2.3.1.
	* openvasd/log.c: Fixed possible NULL pointer exception.
	* openvasd/pluginload.c: Fixed typo in error message.
	* openvas-server/openvasd/comm.c: Removed unused variable.
	* openvas-server/openvasd/pluginscheduler.c: Fixed memory leaks as
	per Nessus 2.3.1.

2008-02-17  Tim Brown <timb@nth-dimension.org.uk>

	* openvasd/Makefile: Fixed bug preventing parallel builds under
	Gentoo.

2008-02-16  Laban Mwangi <labeneator@gmail.com>

	* openvasd/detached.c(detached_setup_mail_file): Fixing flawfinder l5
	warnings.

2008-02-11  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* CHANGES: Removed one item for 1.0.0 about gpgme, because
	it did not belong there.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 1.0.1.SVN

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 1.0.0 release.

	* VERSION: Set to 1.0.0.

	* CHANGES: Updated.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* UPGRADE_README: Removed. Nowadays such information are not relevant
	anymore.

	* MANIFEST: updated.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/stubheader.txt: Removed. The stub headers are mangaged centralized
	in the "doc" module of OpenVAS SVN.

	* TODO: Removed an ancient entry about a fetch script that
	isn't part of this module.

	* MANIFEST: updated.

2007-11-24  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (main): Removed useless version check
	for libraries and nasl.

2007-11-07  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.9.3.SVN

2007-11-07  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.2 release.

	* VERSION: Set to 0.9.2.

	* CHANGES: Updated.

2007-11-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in: Added header.

	* configure.in: Added header and fixed version setting as used
	for openvas-config.

	* include/corevers.h.in: Adapt parameter names according to changes
	in configure.in

	* configure: updated.

2007-11-05  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Added creation of gnupg subdirectory under sysconfdir/openvas.

2007-10-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-10-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* README_SSL, doc/WARNING.En, doc/WARNING.Fr: Removed due
	to phrases that render the text files non-free.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.9.2.SVN

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.1 release.

	* VERSION: Set to 0.9.1.

	* CHANGES: Updated.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas.tmpl.in: Removed variable "nessus_lib".
	It wasn't used anyway.

	* configure: Updated.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: Added version checks for openvas-libraries
	and openvas-libnasl.

	* TODO: Removed wish for version checking.

2007-10-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: Added some further items.

2007-10-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: upgraded to 0.9.0.SVN.

2007-10-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-10-08  Bernhard Herzog  <bh@intevation.de>

	* openvasd/hosts_gatherer.h: Removed.  Use the one installed by
	openvas-libraries instead.

	* attack.c: #include <hg_utils.h> and move the
	hosts_gatherer.h include because it now comes from outside of
	openvasd.

	* openvasd/openvasd.c, openvasd/preferences.c: Move the
	hosts_gatherer.h include because it now comes from outside of
	openvasd.

2007-09-20  Bernhard Herzog  <bh@intevation.de>

	* openvasd/pluginload.c (init_plugin_classes)
	(plugins_reload_from_dir): Refactor the initialization of the
	plugin classes to from plugins_reload_from_dir into the new
	function init_plugin_classes

2007-07-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.0 release.

	* VERSION: Set to 0.9.0.

	* CHANGES: Set release date to 2007-07-27.

2007-07-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/preferences.c (preferences_new): Defaulting
	nasl_no_signature_checks to yes, because the signatures
	are currently not present.

2007-07-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* INSTALL: just slight correction and attached a warning
	that this is outdated.

2007-07-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Remove support for Unix Sockets for communication between client and
	server. Since SSL support is present, this is not needed anymore for
	security reasons. Considerable performance loss is not expected, only
	at first connection time it might be faster with unix sockets (which
	is not really for sure since the loopback device is also very fast).
	Also, the implementation is suboptimal anyway because it works
	as compile-time option. It is very easy to select between a
	unix domain socket and inet socket at runtime.

	* configure.in: Removed unix-socket handling.

	* configure: updated.

	* include/config.h.in, openvasd/sighand.c, openvasd/preferences.c,
	openvasd/openvasd.c, openvasd/ntp_11.c, openvasd/hosts.c:
	Removed any handling of unix
	sockets (this also removes any occurance of USE_AF_UNIX,
	OPENVAS_ON_SSL, AF_UNIX_PATH, USE_AF_INET, AD_UNIX)

	* openvasd/comm.c: Remove handling for non-SSL conncetions.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* CHANGES: Updated with some notes.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (main): Removed HAVE_SSL remains.

	* Makefile: Removed installation of "nessus-services". This module
	does not need to care about libdir (creation removed)

	* TODO: cleaned a bit.

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* include/includes.h: Remove openssl includes

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* openvasd/openvas-check-signature.c: Use GnuTLS instead of
	OpenSSL.  See comments in the file for things that could be done
	better.
	(print_tls_error, map_file, hexdecode): New.  Helper functions.
	(generate_signature, verify_signature): Use GnuTLS instead of
	OpenSSL.  Also, both functions now have an additional parameter
	for the keyfile/certfile to use so that their filenames are no
	longer hard wired.
	(main): Add command line arguments to specifiy the key or
	certificat to use when signing or verifying.  Pass those filenames
	to generate_signature and verify_signature.

2007-07-04  Bernhard Herzog  <bh@intevation.de>

	* openvasd/plugs_hash.c (plugins_hash): Handle errors from
	gcry_md_open.  plugins_hash may return NULL now.

	* openvasd/comm.c (comm_send_md5_plugins): Handle case where
	plugins_hash returns NULL.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/plugs_hash.c (file_hash, plugins_hash): Use unsigned
	char (pointer/array) to hold the digest to avoid warnings about
	type mismatch.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/md5.c, openvasd/md5.c: removed. no longer needed.

	* openvasd/Makefile: md5.c has been removed.

	* openvasd/comm.c: Do not included md5.h.  it wasn't needed anyway

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/users.c remove includes of openssl headers.
	(check_user): Use libgcrypt to compute md5 sums.

	* openvasd/plugs_hash.c (md5sum_hex): New function to convert a
	binary md5 sum to hexadecimal.
	(file_hash, dir_plugins_hash, plugins_hash): Use libgcrypt to
	compute md5 sums.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/openvasd.c: Use the libopenvas ssl abstraction instead
	of openssl. As a consequence the ssl_cipher_list config option is
	no longer supported.
	(ssl_mt, ssl_ctx): Removed.
	(ovas_server_ctx): Introduced instead of ssl_mt and ssl_ctx
	(server_thread): Use the libopenvas ssl abstraction instead of
	openssl.
	(verify_callback): removed. verification is done in libopenvas.
	(main_loop): Use the libopenvas ssl abstraction instead of
	openssl.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/preferences.c: Always compile in
	preferences_get_string, i.e. do not depend on OPENVAS_ON_SSL being
	defined.

2007-06-22  Bernhard Herzog  <bh@intevation.de>

	* include/config.h, include/corevers.h: Removed from SVN because
	they're automatically generated by the configure script

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure, include/config.h, include/corevers.h: Updated.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/threadcompat.h: Fix names and description to reflect
	thread as subject.

	* include/includes.h: Replace libnessus.h by libopenvas.h.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/ntcompat.h: Removed. Renamed to threadcompat.h
	because in fact it is about threads.

	* include/threadcompat.h: New. Previous ntcompat.h.

	* Makefile, MANIFEST, include/includes.h: Renamed ntcompat.h
	to threadcompat.h

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/ntcompat.h: Remove now useless emtpy defines for
	PlugExport, DllExport, DllImport and ExtFunc. Remove
	alias print_error for printf which was not used strictly
	anyway.

	* openvasd/log.c, openvasd/openvasd.c, openvasd/pluginload.c,
	openvasd/preferences.c: Replaced print_error by printf.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/includes.h, include/openvas-devel.h, openvasd/sighand.c:
	Remove any consideration of NESSUSNT.

	* include/ntcompat.h: Remove any consideration of NESSUSNT and
	USE_NT_THREADS.

	* configure.in: Removed handlung for SSL presence, because
	it is now mandatory.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas-adduser.in, openvas-rmuser.in,
	openvas-mkcert.in, openvas-mkcert-client.in: Remove Cygwin stuff.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure: Updated.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas.tmpl.in, openvasd/Makefile: Replace
	use of nessus-libraries and libnasl by openvas-libraries
	and openvas-libnasl. This includes name change of the respective
	variables for the respective config scripts.

	* VERSION: Set back to 0.9.0. OpenVAS wasn't that far yet.

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in, configure.in, Makefile: Removed
	DESTDIR. It looks pretty useless as it needs to
	be set in the shell. It was introduced in Nessus 1.3.1.

	* ChangeLog: New. Started ChangeLog file.
